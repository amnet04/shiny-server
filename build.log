Sending build context to Docker daemon  103.4kB
Step 1/17 : FROM rhub/r-minimal:4.0.5
 ---> 2796ae448661
Step 2/17 : RUN apk add --no-cache --virtual .build-deps cairo-dev bash cmake gcc g++ git     R-dev python3 curl libxt-dev &&     apk add --no-cache libstdc++ &&     ln -s $(which python3) /usr/bin/python &&     python -m ensurepip && pip3 install --upgrade pip &&     mkdir /src && cd /src &&     apk --no-cache add msttcorefonts-installer fontconfig &&     update-ms-fonts &&     fc-cache -f &&     git clone https://github.com/velaco/shiny-server.git
 ---> Using cache
 ---> 6b6ee039d7fc
Step 3/17 : RUN installr -d -t "libsodium-dev curl-dev linux-headers autoconf automake"              -a libsodium shiny
 ---> Using cache
 ---> a1ec4dca7660
Step 4/17 : RUN installr Cairo
 ---> Using cache
 ---> d4e53e7e1a35
Step 5/17 : RUN installr rmarkdown
 ---> Using cache
 ---> de02a92f5796
Step 6/17 : RUN DOWNLOAD_STATIC_LIBV8=1 installr -a curl -c V8
 ---> Using cache
 ---> c7cd1be7d715
Step 7/17 : COPY --from=amnet04/node:node8x_alpine3.14  /opt /src/shiny-server/ext/node
 ---> Using cache
 ---> c58c5e576b3e
Step 8/17 : RUN cp /src/shiny-server/ext/node/bin/node /src/shiny-server/ext/node/bin/shiny-server &&     rm /src/shiny-server/ext/node/bin/npm &&     ln -s /src/shiny-server/ext/node/bin/node /usr/local/bin/ &&     cd /src/shiny-server &&     mkdir tmp &&     cd tmp &&     cmake -DCMAKE_INSTALL_PREFIX=/usr/local ../ &&     make && mkdir ../build &&     (cd .. && ./bin/npm --python="/usr/bin/python"                         --nodedir="/src/shiny-server/ext/node" install) &&     (cd .. && ./bin/npm --python="/usr/bin/python"                         --nodedir="/src/shiny-server/ext/node" audit fix) &&     (cd .. && ./bin/node               ./ext/node/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js               --python="/usr/bin/python"               --nodedir="/src/shiny-server/ext/node" rebuild) &&     make install
 ---> Using cache
 ---> 84f7b4220cb3
Step 9/17 : COPY config/shiny-server.conf /etc/shiny-server/shiny-server.conf
 ---> Using cache
 ---> 1148f713da03
Step 10/17 : COPY scripts/shiny-server.sh /usr/local/bin/shiny-server.sh
 ---> Using cache
 ---> 35e35fbede84
Step 11/17 : RUN ln -s /usr/local/shiny-server/bin/shiny-server /usr/local/bin/shiny-server &&      addgroup -g 1000 -S shiny &&      adduser -u 1000 -D -S -G shiny shiny &&      mkdir -p /srv/shiny-server &&      mkdir -p /var/lib/shiny-server &&      mkdir -p /var/log/shiny-server &&      mkdir -p /etc/shiny-server &&      chown -R shiny:shiny /srv/shiny-server &&      chown -R shiny:shiny /var/lib/shiny-server &&      chown -R shiny:shiny /var/log/shiny-server
 ---> Using cache
 ---> 9c1bb2ed77dd
Step 12/17 : RUN chmod 744 /usr/local/bin/shiny-server.sh &&     chown shiny:shiny /usr/local/bin/shiny-server.sh  &&     mv /src/shiny-server/samples/sample-apps /srv/shiny-server/ &&     mv /src/shiny-server/samples/welcome.html /srv/shiny-server/ &&     chown -R shiny:shiny /srv/shiny-server &&     rm -rf /src/
 ---> Using cache
 ---> 2c71eb6decb7
Step 13/17 : RUN apk del .build-deps &&     rm /usr/bin/python
 ---> Using cache
 ---> 0c0f320ba78d
Step 14/17 : RUN apk add icu-libs cairo-dev cairo  python3 py3-cairosvg
 ---> Running in 2d0651f6cbc6
fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.14/community/x86_64/APKINDEX.tar.gz
(1/93) Installing libxau (1.0.9-r0)
(2/93) Installing libmd (1.0.3-r0)
(3/93) Installing libbsd (0.11.3-r0)
(4/93) Installing libxdmcp (1.1.3-r0)
(5/93) Installing libxcb (1.14-r2)
(6/93) Installing libx11 (1.7.2-r0)
(7/93) Installing libxext (1.3.4-r0)
(8/93) Installing libxrender (0.9.10-r3)
(9/93) Installing pixman (0.40.0-r2)
(10/93) Installing cairo (1.16.0-r3)
(11/93) Installing libffi (3.3-r2)
(12/93) Installing libintl (0.21-r0)
(13/93) Installing libblkid (2.37.4-r0)
(14/93) Installing libmount (2.37.4-r0)
(15/93) Installing glib (2.68.3-r0)
(16/93) Installing cairo-tools (1.16.0-r3)
(17/93) Installing pkgconf (1.7.4-r0)
(18/93) Installing expat-dev (2.4.7-r0)
(19/93) Installing brotli-dev (1.0.9-r5)
(20/93) Installing zlib-dev (1.2.12-r1)
(21/93) Installing libpng-dev (1.6.37-r1)
(22/93) Installing freetype-dev (2.10.4-r2)
(23/93) Installing blkid (2.37.4-r0)
(24/93) Installing libcap-ng (0.8.2-r0)
(25/93) Installing setpriv (2.37.4-r0)
(26/93) Installing libsmartcols (2.37.4-r0)
(27/93) Installing findmnt (2.37.4-r0)
(28/93) Installing mcookie (2.37.4-r0)
(29/93) Installing hexdump (2.37.4-r0)
(30/93) Installing lsblk (2.37.4-r0)
(31/93) Installing libfdisk (2.37.4-r0)
(32/93) Installing sfdisk (2.37.4-r0)
(33/93) Installing cfdisk (2.37.4-r0)
(34/93) Installing partx (2.37.4-r0)
(35/93) Installing flock (2.37.4-r0)
(36/93) Installing logger (2.37.4-r0)
(37/93) Installing uuidgen (2.37.4-r0)
(38/93) Installing libeconf (0.3.8-r1)
(39/93) Installing util-linux (2.37.4-r0)
(40/93) Installing util-linux-dev (2.37.4-r0)
(41/93) Installing fontconfig-dev (2.13.1-r4)
(42/93) Installing xorgproto (2021.4-r0)
(43/93) Installing libxau-dev (1.0.9-r0)
(44/93) Installing xcb-proto (1.14.1-r2)
(45/93) Installing libxdmcp-dev (1.1.3-r0)
(46/93) Installing libxcb-dev (1.14-r2)
(47/93) Installing xtrans (1.4.0-r1)
(48/93) Installing libx11-dev (1.7.2-r0)
(49/93) Installing libxext-dev (1.3.4-r0)
(50/93) Installing libxrender-dev (0.9.10-r3)
(51/93) Installing pixman-dev (0.40.0-r2)
(52/93) Installing util-macros (1.19.3-r0)
(53/93) Installing xcb-util (0.4.0-r3)
(54/93) Installing xcb-util-dev (0.4.0-r3)
(55/93) Installing cairo-gobject (1.16.0-r3)
(56/93) Installing gdbm (1.19-r0)
(57/93) Installing mpdecimal (2.5.1-r1)
(58/93) Installing sqlite-libs (3.35.5-r0)
(59/93) Installing python3 (3.9.5-r2)
(60/93) Installing gettext-asprintf (0.21-r0)
(61/93) Installing gettext-libs (0.21-r0)
(62/93) Installing libxml2 (2.9.14-r0)
(63/93) Installing gettext (0.21-r0)
(64/93) Installing gettext-dev (0.21-r0)
(65/93) Installing bzip2-dev (1.0.8-r1)
(66/93) Installing libxml2-utils (2.9.14-r0)
(67/93) Installing libgpg-error (1.42-r0)
(68/93) Installing libgcrypt (1.9.4-r0)
(69/93) Installing libxslt (1.1.35-r0)
(70/93) Installing docbook-xml (4.5-r6)
Executing docbook-xml-4.5-r6.post-install
(71/93) Installing docbook-xsl (1.79.2-r2)
Executing docbook-xsl-1.79.2-r2.post-install
(72/93) Installing linux-headers (5.10.41-r0)
(73/93) Installing libffi-dev (3.3-r2)
(74/93) Installing libpcre16 (8.44-r0)
(75/93) Installing libpcre32 (8.44-r0)
(76/93) Installing pcre-dev (8.44-r0)
(77/93) Installing glib-dev (2.68.3-r0)
(78/93) Installing cairo-dev (1.16.0-r3)
(79/93) Installing icu-libs (67.1-r2)
(80/93) Installing py3-webencodings (0.5.1-r4)
(81/93) Installing py3-tinycss2 (1.1.0-r1)
(82/93) Installing py3-cssselect2 (0.4.1-r1)
(83/93) Installing py3-defusedxml (0.7.1-r1)
(84/93) Installing py3-cparser (2.20-r1)
(85/93) Installing py3-cffi (1.14.5-r1)
(86/93) Installing shared-mime-info (2.1-r0)
(87/93) Installing libjpeg-turbo (2.1.0-r0)
(88/93) Installing libwebp (1.2.0-r2)
(89/93) Installing zstd-libs (1.4.9-r1)
(90/93) Installing tiff (4.3.0-r0)
(91/93) Installing gdk-pixbuf (2.42.6-r0)
(92/93) Installing py3-cairocffi (1.2.0-r2)
(93/93) Installing py3-cairosvg (2.5.2-r1)
Executing busybox-1.33.1-r6.trigger
Executing glib-2.68.3-r0.trigger
No schema files found: doing nothing.
Executing shared-mime-info-2.1-r0.trigger
Executing gdk-pixbuf-2.42.6-r0.trigger
OK: 356 MiB in 150 packages
Removing intermediate container 2d0651f6cbc6
 ---> 573dad340dc1
Step 15/17 : EXPOSE 3838
 ---> Running in b441c3d6f456
Removing intermediate container b441c3d6f456
 ---> e501529d5213
Step 16/17 : USER shiny
 ---> Running in 19adcd0c9cdf
Removing intermediate container 19adcd0c9cdf
 ---> 6852c0d72fa8
Step 17/17 : CMD ["shiny-server.sh"]
 ---> Running in 801f5781ea0a
Removing intermediate container 801f5781ea0a
 ---> 3902d32865f6
Successfully built 3902d32865f6
Successfully tagged amnet04/shiny-server:0.1
